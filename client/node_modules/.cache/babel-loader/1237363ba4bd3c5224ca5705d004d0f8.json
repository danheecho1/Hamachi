{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danhe\\\\Desktop\\\\Projects\\\\Hamachi\\\\client\\\\src\\\\views\\\\Persons.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllPersons = props => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [personName, setPersonName] = useState(\"\");\n  const {\n    groupId\n  } = useParams();\n\n  const submitHandler = e => {\n    console.log(groupId);\n    e.preventDefault();\n    axios.post(`http://localhost:8000/api/groups/${groupId}/persons`, {\n      personName: personName,\n      group_id: groupId\n    }).then(res => {\n      console.log(\"Saved \" + res);\n      props.setWhenSubmitted(!props.whenSubmitted);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/groups/${groupId}/persons`).then(res => {\n      setPersons(res.data);\n    }).catch(err => console.log(err));\n  }, [props.whenSubmitted]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header_div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Group name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setPersonName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: persons.map((person, id) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: person.personName\n      }, person._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AllPersons, \"cBrf8aQuRUHSbedJ4JWHXs1t7rA=\", false, function () {\n  return [useParams];\n});\n\n_c = AllPersons;\nexport default AllPersons;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllPersons\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useParams","AllPersons","props","persons","setPersons","personName","setPersonName","groupId","submitHandler","e","console","log","preventDefault","post","group_id","then","res","setWhenSubmitted","whenSubmitted","catch","err","get","data","target","value","map","person","id","_id"],"sources":["C:/Users/danhe/Desktop/Projects/Hamachi/client/src/views/Persons.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {Link, useParams} from 'react-router-dom'\r\n\r\nconst AllPersons = (props) => {\r\n\r\n    const [persons, setPersons] = useState([])\r\n    const [personName, setPersonName] = useState(\"\")\r\n    const {groupId} = useParams()\r\n\r\n    const submitHandler = (e) => {\r\n        console.log(groupId)\r\n        e.preventDefault()\r\n        axios.post(`http://localhost:8000/api/groups/${groupId}/persons`, {personName: personName, group_id: groupId})\r\n            .then(res => {\r\n                console.log(\"Saved \" + res)\r\n                props.setWhenSubmitted(!props.whenSubmitted)\r\n            }\r\n                )\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/groups/${groupId}/persons`)\r\n            .then(res => {\r\n                setPersons(res.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [props.whenSubmitted])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"header_div\">\r\n                <h1>Group name</h1>\r\n                <form onSubmit={submitHandler}>\r\n                    <div>\r\n                        <label>Name: </label>\r\n                        <input type=\"text\" onChange = {e => setPersonName(e.target.value)}></input>\r\n                    </div>\r\n                    <input type=\"submit\" />\r\n                </form>\r\n            </div>\r\n            <hr/>\r\n            <div>\r\n                {persons.map((person, id) =>\r\n                    <li key={person._id}>\r\n                        {person.personName}\r\n                    </li>\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AllPersons"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,SAAd,QAA8B,kBAA9B;;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAAA;;EAE1B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM;IAACW;EAAD,IAAYP,SAAS,EAA3B;;EAEA,MAAMQ,aAAa,GAAIC,CAAD,IAAO;IACzBC,OAAO,CAACC,GAAR,CAAYJ,OAAZ;IACAE,CAAC,CAACG,cAAF;IACAd,KAAK,CAACe,IAAN,CAAY,oCAAmCN,OAAQ,UAAvD,EAAkE;MAACF,UAAU,EAAEA,UAAb;MAAyBS,QAAQ,EAAEP;IAAnC,CAAlE,EACKQ,IADL,CACUC,GAAG,IAAI;MACTN,OAAO,CAACC,GAAR,CAAY,WAAWK,GAAvB;MACAd,KAAK,CAACe,gBAAN,CAAuB,CAACf,KAAK,CAACgB,aAA9B;IACH,CAJL,EAMKC,KANL,CAMWC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CANlB;EAOH,CAVD;;EAYAvB,SAAS,CAAC,MAAM;IACZC,KAAK,CAACuB,GAAN,CAAW,oCAAmCd,OAAQ,UAAtD,EACKQ,IADL,CACUC,GAAG,IAAI;MACTZ,UAAU,CAACY,GAAG,CAACM,IAAL,CAAV;IACH,CAHL,EAIKH,KAJL,CAIWC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAJlB;EAKH,CANQ,EAMN,CAAClB,KAAK,CAACgB,aAAP,CANM,CAAT;EAQA,oBACI;IAAA,wBACI;MAAK,SAAS,EAAC,YAAf;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAM,QAAQ,EAAEV,aAAhB;QAAA,wBACI;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAO,IAAI,EAAC,MAAZ;YAAmB,QAAQ,EAAIC,CAAC,IAAIH,aAAa,CAACG,CAAC,CAACc,MAAF,CAASC,KAAV;UAAjD;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAKI;UAAO,IAAI,EAAC;QAAZ;UAAA;UAAA;UAAA;QAAA,QALJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAWI;MAAA;MAAA;MAAA;IAAA,QAXJ,eAYI;MAAA,UACKrB,OAAO,CAACsB,GAAR,CAAY,CAACC,MAAD,EAASC,EAAT,kBACT;QAAA,UACKD,MAAM,CAACrB;MADZ,GAASqB,MAAM,CAACE,GAAhB;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QAZJ;EAAA,gBADJ;AAsBH,CAhDD;;GAAM3B,U;UAIgBD,S;;;KAJhBC,U;AAkDN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}